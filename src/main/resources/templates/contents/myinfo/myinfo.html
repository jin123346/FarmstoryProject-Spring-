<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<html xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<script th:src="@{/js/utils.js}"></script>
<script type="text/javascript" th:src="@{/js/modifyinfo.js}"></script>

<section class="myinfo">
    <form th:action="@{/user/update}" method="post">
        <table border="1">
            <caption>회원정보 설정</caption>
            <tr>
                <td>아이디</td>
                <td>
                    <input type="text" ID="modalUserId" name="uid" th:value="${#authentication.principal.user.uid}" readonly/>
                </td>
            </tr>
            <tr>
                <td>비밀번호</td>
                <td>
                    <input type="password" name="pass" class="inputPass" placeholder="비밀번호 입력"/>
                    <span id="resultPass"></span> <!-- 비밀번호 유효성 메시지 -->
                </td>
            </tr>
            <tr>
                <td>비밀번호 확인</td>
                <td>
                    <input type="password" name="pass2" class="inputPass" placeholder="비밀번호 입력 확인"/>
                    <button type="button" class="btn_modifty" id="modifyPassBtn">비밀번호 수정</button>
                    <span id="resultPass2"></span> <!-- 비밀번호 확인 메시지 -->
                </td>
            </tr>
            <tr>
                <td>회원가입날짜</td>
                <td><span sec:authentication="principal.user.regDate"></span></td>

            </tr>
        </table>
        <table border="1">
            <caption>개인정보 수정</caption>
            <tr>
                <td>이름</td>
                <td>
                    <input type="text" name="name" placeholder="이름 입력" th:value="${#authentication.principal.user.name}" />
                    <span class="resultName"></span>
                </td>
            </tr>
            <tr>
                <td>별명</td>
                <td>

                    <p>공백없이 한글, 영문, 숫자만 입력가능</p>
                    <!-- 로그인한 사용자의 별명 출력 -->
                    <input type="text" name="nick" placeholder="별명 입력" th:value="${#authentication.principal.user.nick}" />
                    <button type="button" id="btnCheckNick" data-type="nick"><img th:src="@{/images/user/chk_id.gif}" alt="중복확인"/></button>
                    <span id="resultNick"></span>
                </td>
            </tr>
            <tr>
                <td>E-Mail</td>
                <td>
                    <!-- 로그인한 사용자의 이메일 출력 -->
                    <input type="email"  class="inputEmail" name="email" placeholder="이메일 입력" th:value="${#authentication.principal.user.email}" />
                    <button type="button" id="btnCheckEmail" data-type="email"><img th:src="@{/images/user/chk_auth.gif}" alt="인증번호 받기"/></button>
                    <span class="resultEmail"></span>
                    <div class="auth">
                        <input type="text" name="auth" class="inputEmailCode" placeholder="인증번호 입력"/>
                        <button type="button" id="btnCheckEmailCode"  ><img th:src="@{/images/user/chk_confirm.gif}" alt="확인"/></button>
                    </div>
                </td>

            </tr>
            <tr>
                <td>휴대폰</td>
                <td>
                    <!-- 로그인한 사용자의 휴대폰 번호 출력 -->
                    <input type="text" name="hp" placeholder="- 포함 13자리 입력" th:value="${#authentication.principal.user.hp}" minlength="13" maxlength="13" />
                    <span class="resultHp"></span>

                </td>
            </tr>
            <tr>
                <td>주소</td>
                <td>
                    <div>
                        <!-- 로그인한 사용자의 우편번호 출력 -->
                        <input  type="text" name="zip" id="inputZip" placeholder="우편번호" th:value="${#authentication.principal.user.zip}" readonly/>
                        <button type="button" class="btnZip" onclick="postcode()"><img th:src="@{/images/user/chk_post.gif}" alt=""></button>
                        <!-- 로그인한 사용자의 주소 출력 -->
                        <input type="text" name="addr1" id="inputAddr1" placeholder="주소를 검색하세요." th:value="${#authentication.principal.user.addr1}" readonly/>                    </div>
                        <input type="text" name="addr2" id="inputAddr2" placeholder="상세주소를 입력하세요." th:value="${#authentication.principal.user.addr2}" />



                </td>
            </tr>
            <tr>
                <td>회원탈퇴</td>
                <td class="form_group quit">
                    <button type="button" class="btn_quit"><p>탈퇴하기</p></button>
                </td>
            </tr>
        </table>

            <div class="button_container">
                <button type="button" class="btn-cancel">취소</button>
                <button type="submit" class="btn_submit">회원정보 수정</button>
            </div>
            <div>
                <span id="resultMessage"></span> <!-- 회원 정보 수정 결과 메시지 표시 -->

            </div>
    </form>
    <script type="text/javascript" th:src="@{/js/Myinfo.js}"></script>
</section>

<!--//<script type="text/javascript" th:src="@{/js/modifyinfo.js}" defer></script>-->

